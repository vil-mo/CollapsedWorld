[gd_scene load_steps=16 format=3 uid="uid://d280x8irtocig"]

[ext_resource type="Script" path="res://entity/entity.gd" id="1_djo1o"]
[ext_resource type="Texture2D" uid="uid://6em3ehsaa0fl" path="res://entity/player/player_fall.png" id="2_i3tnm"]
[ext_resource type="Texture2D" uid="uid://dkocmifd7b57w" path="res://entity/shades/medium_shade.png" id="3_2hj4w"]
[ext_resource type="Script" path="res://other/entity_stats.gd" id="3_52htm"]
[ext_resource type="Shader" path="res://entity/entity.gdshader" id="5_amxdo"]
[ext_resource type="Script" path="res://entity/entity_animation_tree.gd" id="6_ccsj2"]
[ext_resource type="Script" path="res://entity/state_machine/state_machine.gd" id="6_kffa8"]
[ext_resource type="Script" path="res://entity/equipment_machine/equpment_machine.gd" id="8_runj3"]

[sub_resource type="Resource" id="Resource_3x724"]
resource_local_to_scene = true
script = ExtResource("3_52htm")
walking_speed = 100.0
walking_acceleration = 0.2
walking_deceleration = 0.1
hight_force_deceleration = 800.0
knockback_resist = 0.0
fall_damage = 0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_kapcq"]
shader = ExtResource("5_amxdo")
shader_parameter/flash_color = Color(1, 1, 1, 1)
shader_parameter/flash_amount = 0.0

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_rgciw"]
graph_offset = Vector2(-15, -10)

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_417hi"]

[sub_resource type="RectangleShape2D" id="1"]
size = Vector2(8, 2)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_0714k"]
radius = 4.0
height = 8.0

[sub_resource type="RectangleShape2D" id="26"]
size = Vector2(1.5, 1.5625)

[node name="Entity" type="CharacterBody2D"]
y_sort_enabled = true
collision_layer = 64
collision_mask = 8
script = ExtResource("1_djo1o")
fall_texture = ExtResource("2_i3tnm")
stats = SubResource("Resource_3x724")
alignments = 2

[node name="Visuals" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Shadow" type="Sprite2D" parent="Visuals"]
modulate = Color(1, 1, 1, 0.501961)
y_sort_enabled = true
texture = ExtResource("3_2hj4w")

[node name="Sprites" type="Node2D" parent="Visuals"]
y_sort_enabled = true
material = SubResource("ShaderMaterial_kapcq")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Visuals"]

[node name="AnimationTree" type="AnimationTree" parent="Visuals"]
tree_root = SubResource("AnimationNodeStateMachine_rgciw")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/playback = SubResource("AnimationNodeStateMachinePlayback_417hi")
script = ExtResource("6_ccsj2")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
visible = false
z_index = 100
shape = SubResource("1")

[node name="Hitbox" type="Area2D" parent="."]
visible = false
z_index = 100
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hitbox"]
position = Vector2(0, -2)
shape = SubResource("CapsuleShape2D_0714k")
debug_color = Color(0.87451, 0, 0.0588235, 0.419608)

[node name="GroundDetector" type="Area2D" parent="."]
visible = false
z_index = 100
collision_layer = 0
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="GroundDetector"]
shape = SubResource("26")

[node name="StateMachine" type="Node2D" parent="."]
script = ExtResource("6_kffa8")

[node name="EqupmentMachine" type="Node2D" parent="."]
script = ExtResource("8_runj3")
